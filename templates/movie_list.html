{% extends 'base.html' %}
{% block content %}
<style>
    .col-lg-3 {
        margin-top: 10px;
    }

    .card img {
        max-width: 100%;
        height: 170px;
    }

    .container {
        padding-top: 10px;
    }
</style>
{% if show %}
<div class="container">
    {% if submitbutton == 'Search' and request.GET.q != '' %}
    {% if results %}
    <div class="row">
        {% for result in results %}
        <div class="col-lg-3 col-sm-6">
            <div class="card h-100">
                <img src="{{ result.preview_image.url }}" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">{{result.name}}</h5>
                    <p class="card-text"><small>{{result.description}}</small></p>
                </div>
                <div class="card-footer">
                    <small class="text"><a href="{% url 'movie-details' result.id %}">Details & more <i
                                class="fas fa-location-arrow"></i></a></small>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <span style="color: white;">
            <h1><br>No search results for this query</h1>
        </span>
        {% endif %}
        {% endif %}
    </div>
</div>

{% else %}

<div class="container">
    <h1>Popular on MDB</h1>
    <div class="row">
        {% for movie in all_movies %}
        <div class="col-lg-3 col-sm-6">
            <div class="card h-100">
                <img src="{{ movie.preview_image.url }}" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">{{movie.name}}</h5>
                    <p class="card-text"><small>{{movie.description}}</small></p>
                </div>
                <div class="card-footer">
                    <small class="text"><a href="{% url 'movie-details' movie.id %}">Details & more <i
                                class="fas fa-location-arrow"></i></a></small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
<br><br>
<div class="container">
    <h1>Popular Genres</h1>
</div>
<div class="container">
    <h3>1. Romance</h3>
    <a href="{% url 'rom-movies_page' %}" class="view-more">View more <i class="fas fa-hand-point-right"></i></a>
    <div class="row">
        {% for movie in romance_movies %}
        <div class="col-lg-3 col-sm-6">
            <div class="card h-100">
                <img src="{{ movie.preview_image.url }}" class="card-img-top" alt="{{movie.name}}">
                <div class="card-body">
                    <h5 class="card-title">{{movie.name}}</h5>
                    <p class="card-text"><small>{{movie.description}}</small></p>
                </div>
                <div class="card-footer">
                    <small class="text"><a href="{% url 'movie-details' movie.id %}">Details & more <i
                                class="fas fa-location-arrow"></i></a></small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
<br>
<div class="container">
    <h3>2. Superhero</h3>
    <a href="{% url 'superhero_movies_page' %}" class="view-more">View more <i class="fas fa-hand-point-right"></i></a>
    <div class="row">
        {% for movie in superhero_movies %}
        <div class="col-lg-3 col-sm-6">
            <div class="card h-100">
                <img src="{{ movie.preview_image.url }}" class="card-img-top" alt="{{movie.name}}">
                <div class="card-body">
                    <h5 class="card-title">{{movie.name}}</h5>
                    <p class="card-text"><small>{{movie.description}}</small></p>
                </div>
                <div class="card-footer">
                    <small class="text"><a href="{% url 'movie-details' movie.id %}">Details & more <i
                                class="fas fa-location-arrow"></i></a></small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock content %}